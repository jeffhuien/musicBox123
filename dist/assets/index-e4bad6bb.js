import{b as x,_ as C,a as j,S as I,f}from"./index-5dd2bf53.js";import{d as M,r as g,m as B,n as U,s as N,x as A,o as a,c as o,a as s,b as v,u as p,F as b,e as k,y as R,t as c,z as $,A as D,B as F,C as T,p as l,j as q,M as z}from"./index-08c219b8.js";import{_ as E}from"./_plugin-vue_export-helper-c27b6911.js";const w=_=>(D("data-v-b530f93b"),_=_(),F(),_),L={class:"w-full h-full flex flex-col pt-3"},P={class:""},V=w(()=>s("div",{class:"flex text-sm px-4 mb-3 w-full gap-3 [&_p]:px-4 [&_p]:py-1 [&_p]:bg-sky-500 [&_p]:rounded-2xl text-white"},[s("p",null,"全部"),s("p",null,"单曲"),s("p",null,"专辑"),s("p",null,"歌词")],-1)),G={class:"flex-1 table-container overflow-y-scroll px-5"},H={class:"w-full h-full text-sm text-left text-gray-500 dark:text-gray-400"},J=w(()=>s("thead",{class:"text-xs text-gray-700 max-md:hidden"},[s("tr",{class:"h-2"},[s("th",{scope:"col",class:"py-3 px-6"},"歌曲"),s("th",{scope:"col",class:"py-3 px-6"},"歌手"),s("th",{scope:"col",class:"py-3 px-6"},"专辑"),s("th",{scope:"col",class:"py-3 px-6"},"时长")])],-1)),K={key:0,class:"overflow-scroll"},O=["onClick"],Q={class:"py-4 px-6"},W={class:"py-4 px-6"},X={class:"py-4 px-6"},Y={class:"py-4 px-6"},Z=["onClick"],ss={class:""},es=["src"],ts={class:"ml-3"},as={class:"text-xs"},os={key:1,class:"w-full h-full flex justify-center items-center"},ls={class:""},cs=M({__name:"index",setup(_){let n=g(),S=B().currentRoute.value,d=g(S.query.keywords);U("kw",d),N(d,async(t,u)=>{n.value=await x.SearchSongs(t),T.push(`/search?keywords=${t}`)}),A(async()=>{d.value!==""&&(n.value=await x.SearchSongs(d.value))});async function h(t){let u=await I.getSongUrl(t.id);l().playUrl=u.data[0].url,l().songImg=t.al.picUrl,l().musicName=t.name,l().singerName=t.ar.map(m=>m.name).join("、"),l().isPlay=!0;let i=t.fee.toString();f[i]&&q.info(f[i],{duration:3e3}),await z.play(l().playUrl),l().currentTime=0}return(t,u)=>{var y;const i=C,m=j;return a(),o("div",L,[s("div",P,[v(i,{class:"border-none"}),V]),s("div",G,[s("table",H,[J,(y=p(n))!=null&&y.result?(a(),o("tbody",K,[p(R)().isMobile?(a(!0),o(b,{key:1},k(p(n).result.songs,e=>(a(),o("div",{onClick:r=>h(e),class:"pb-6 flex items-center"},[s("div",ss,[s("img",{class:"w-12 h-12 object-cover rounded-md max-sm:rounded-full",src:e.al.picUrl},null,8,es)]),s("div",ts,[s("p",null,c(e.name),1),s("p",as,c(e.ar.map(r=>r.name).join("、")),1)])],8,Z))),256)):(a(!0),o(b,{key:0},k(p(n).result.songs,e=>(a(),o("tr",{onClick:r=>h(e),class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-100"},[s("td",Q,c(e.name),1),s("td",W,c(e.ar.map(r=>r.name).join("、")),1),s("td",X,c(e.al.name),1),s("td",Y,c(p($)(e.dt,"ms")),1)],8,O))),256))])):(a(),o("div",os,"快来搜点什么~"))])]),s("div",ls,[v(m,{class:""})])])}}});const _s=E(cs,[["__scopeId","data-v-b530f93b"]]);export{_s as default};
